!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.dragula=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function g(a){var b=d[a];return b?b.lastIndex=0:d[a]=b=new RegExp(e+a+f,"g"),b}function h(a,b){var c=a.className;c.length?g(b).test(c)||(a.className+=" "+b):a.className=b}function i(a,b){a.className=a.className.replace(g(b)," ").trim()}var d={},e="(?:^|\\s)",f="(?:\\s|$)";b.exports={add:h,rm:i}},{}],2:[function(a,b,c){(function(c){"use strict";function i(a,b){function J(a){return I.containers.indexOf(a)!==-1||H.isContainer(a)}function K(a){var b=a?"remove":"add";j(h,b,"mousedown",P),j(h,b,"mouseup",Y)}function L(a){var b=a?"remove":"add";j(h,b,"mousemove",Q)}function M(a){var b=a?"remove":"add";e[b](h,"selectstart",O),e[b](h,"click",O)}function N(){K(!0),Y({})}function O(a){G&&a.preventDefault()}function P(a){z=a.clientX,A=a.clientY;var b=1!==k(a)||a.metaKey||a.ctrlKey;if(!b){var c=a.target,d=R(c);d&&(G=d,L(),"mousedown"===a.type&&(t(c)?c.focus():a.preventDefault()))}}function Q(a){if(G){if(0===k(a))return void Y({});if(void 0===a.clientX||a.clientX!==z||void 0===a.clientY||a.clientY!==A){if(H.ignoreInputTextSelection){var b=x("clientX",a),c=x("clientY",a),d=g.elementFromPoint(b,c);if(t(d))return}var e=G;L(!0),M(),W(),U(e);var h=l(u);w=x("pageX",a)-h.left,y=x("pageY",a)-h.top,f.add(D||u,"gu-transit"),ga(),da(a)}}}function R(a){if(!(I.dragging&&i||J(a))){for(var b=a;s(a)&&J(s(a))===!1;){if(H.invalid(a,b))return;if(a=s(a),!a)return}var c=s(a);if(c&&!H.invalid(a,b)){var d=H.moves(a,c,b,v(a));if(d)return{item:a,source:c}}}}function S(a){return!!R(a)}function T(a){var b=R(a);b&&U(b)}function U(a){ka(a.item,a.source)&&(D=a.item.cloneNode(!0),I.emit("cloned",D,a.item,"copy")),m=a.source,u=a.item,B=C=v(a.item),I.dragging=!0,I.emit("drag",u,m)}function V(){return!1}function W(){if(I.dragging){var a=D||u;Z(a,s(a))}}function X(){G=!1,L(!0),M(!0)}function Y(a){if(X(),I.dragging){var b=D||u,c=x("clientX",a),d=x("clientY",a),e=n(i,c,d),f=ca(e,c,d);f&&(D&&H.copySortSource||!D||f!==m)?Z(b,f):H.removeOnSpill?$():_()}}function Z(a,b){var c=s(a);D&&H.copySortSource&&b===m&&c.removeChild(u),ba(b)?I.emit("cancel",a,m,m):I.emit("drop",a,b,m,C),aa()}function $(){if(I.dragging){var a=D||u,b=s(a);b&&b.removeChild(a),I.emit(D?"cancel":"remove",a,b,m),aa()}}function _(a){if(I.dragging){var b=arguments.length>0?a:H.revertOnSpill,c=D||u,d=s(c),e=ba(d);e===!1&&b&&(D?d&&d.removeChild(D):m.insertBefore(c,B)),e||b?I.emit("cancel",c,m,m):I.emit("drop",c,d,m,C),aa()}}function aa(){var a=D||u;X(),ha(),a&&f.rm(a,"gu-transit"),E&&clearTimeout(E),I.dragging=!1,F&&I.emit("out",a,F,m),I.emit("dragend",a),m=u=D=B=C=E=F=null}function ba(a,b){var c;return c=void 0!==b?b:i?C:v(D||u),a===m&&c===B}function ca(a,b,c){function e(){var e=J(d);if(e===!1)return!1;var f=ia(d,a),g=ja(d,f,b,c),h=ba(d,g);return!!h||H.accepts(u,d,m,g)}for(var d=a;d&&!e();)d=s(d);return d}function da(a){function p(a){I.emit(a,f,F,m)}function q(){j&&p("over")}function r(){F&&p("out")}if(i){a.preventDefault();var b=x("clientX",a),c=x("clientY",a),d=b-w,e=c-y;i.style.left=d+"px",i.style.top=e+"px";var f=D||u,g=n(i,b,c),h=ca(g,b,c),j=null!==h&&h!==F;(j||null===h)&&(r(),F=h,q());var k=s(f);if(h===m&&D&&!H.copySortSource)return void(k&&k.removeChild(f));var l,o=ia(h,g);if(null!==o)l=ja(h,o,b,c);else{if(H.revertOnSpill!==!0||D)return void(D&&k&&k.removeChild(f));l=B,h=m}(null===l&&j||l!==f&&l!==v(f))&&(C=l,h.insertBefore(f,l),I.emit("shadow",f,h,m)),document.addEventListener("mousemove",function(a){if(1===a.which){var b=window.innerHeight,c=(window.pageYOffset||document.scrollTop)-(document.clientTop||0),d=a.pageY?a.pageY:0,e=d-c;if(e<=0||e>=b){var f=e>0?1:-1;document.body.scrollTop+=f}else document.removeEventListener("mousemove",function(){})}})}}function ea(a){f.rm(a,"gu-hide")}function fa(a){I.dragging&&f.add(a,"gu-hide")}function ga(){if(!i){var a=u.getBoundingClientRect();i=u.cloneNode(!0),i.style.width=q(a)+"px",i.style.height=r(a)+"px",f.rm(i,"gu-transit"),f.add(i,"gu-mirror"),H.mirrorContainer.appendChild(i),j(h,"add","mousemove",da),f.add(H.mirrorContainer,"gu-unselectable"),I.emit("cloned",i,u,"mirror")}}function ha(){i&&(f.rm(H.mirrorContainer,"gu-unselectable"),j(h,"remove","mousemove",da),s(i).removeChild(i),i=null)}function ia(a,b){for(var c=b;c!==a&&s(c)!==a;)c=s(c);return c===h?null:c}function ja(a,b,c,d){function g(){var f,g,h,b=a.children.length;for(f=0;f<b;f++){if(g=a.children[f],h=g.getBoundingClientRect(),e&&h.left+h.width/2>c)return g;if(!e&&h.top+h.height/2>d)return g}return null}function h(){var a=b.getBoundingClientRect();return i(e?c>a.left+q(a)/2:d>a.top+r(a)/2)}function i(a){return a?v(b):b}var e="horizontal"===H.direction,f=b!==a?h():g();return f}function ka(a,b){return"boolean"==typeof H.copy?H.copy:H.copy(a,b)}var c=arguments.length;1===c&&Array.isArray(a)===!1&&(b=a,a=[]);var i,m,u,w,y,z,A,B,C,D,E,G,F=null,H=b||{};void 0===H.moves&&(H.moves=p),void 0===H.accepts&&(H.accepts=p),void 0===H.invalid&&(H.invalid=V),void 0===H.containers&&(H.containers=a||[]),void 0===H.isContainer&&(H.isContainer=o),void 0===H.copy&&(H.copy=!1),void 0===H.copySortSource&&(H.copySortSource=!1),void 0===H.revertOnSpill&&(H.revertOnSpill=!1),void 0===H.removeOnSpill&&(H.removeOnSpill=!1),void 0===H.direction&&(H.direction="vertical"),void 0===H.ignoreInputTextSelection&&(H.ignoreInputTextSelection=!0),void 0===H.mirrorContainer&&(H.mirrorContainer=g.body);var I=d({containers:H.containers,start:T,end:W,cancel:_,remove:$,destroy:N,canMove:S,dragging:!1});return H.removeOnSpill===!0&&I.on("over",ea).on("out",fa),K(),I}function j(a,b,d,f){var g={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},h={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},i={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};c.navigator.pointerEnabled?e[b](a,h[d],f):c.navigator.msPointerEnabled?e[b](a,i[d],f):(e[b](a,g[d],f),e[b](a,d,f))}function k(a){if(void 0!==a.touches)return a.touches.length;if(void 0!==a.which&&0!==a.which)return a.which;if(void 0!==a.buttons)return a.buttons;var b=a.button;return void 0!==b?1&b?1:2&b?3:4&b?2:0:void 0}function l(a){var b=a.getBoundingClientRect();return{left:b.left+m("scrollLeft","pageXOffset"),top:b.top+m("scrollTop","pageYOffset")}}function m(a,b){return"undefined"!=typeof c[b]?c[b]:h.clientHeight?h[a]:g.body[a]}function n(a,b,c){var f,d=a||{},e=d.className;return d.className+=" gu-hide",f=g.elementFromPoint(b,c),d.className=e,f}function o(){return!1}function p(){return!0}function q(a){return a.width||a.right-a.left}function r(a){return a.height||a.bottom-a.top}function s(a){return a.parentNode===g?null:a.parentNode}function t(a){return"INPUT"===a.tagName||"TEXTAREA"===a.tagName||"SELECT"===a.tagName||u(a)}function u(a){return!!a&&("false"!==a.contentEditable&&("true"===a.contentEditable||u(s(a))))}function v(a){function b(){var b=a;do b=b.nextSibling;while(b&&1!==b.nodeType);return b}return a.nextElementSibling||b()}function w(a){return a.targetTouches&&a.targetTouches.length?a.targetTouches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a}function x(a,b){var c=w(b),d={pageX:"clientX",pageY:"clientY"};return a in d&&!(a in c)&&d[a]in c&&(a=d[a]),c[a]}var d=a("contra/emitter"),e=a("crossvent"),f=a("./classes"),g=document,h=g.documentElement;b.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(a,b,c){b.exports=function(b,c){return Array.prototype.slice.call(b,c)}},{}],4:[function(a,b,c){"use strict";var d=a("ticky");b.exports=function(b,c,e){b&&d(function(){b.apply(e||null,c||[])})}},{ticky:9}],5:[function(a,b,c){"use strict";var d=a("atoa"),e=a("./debounce");b.exports=function(b,c){var f=c||{},g={};return void 0===b&&(b={}),b.on=function(a,c){return g[a]?g[a].push(c):g[a]=[c],b},b.once=function(a,c){return c._once=!0,b.on(a,c),b},b.off=function(a,c){var d=arguments.length;if(1===d)delete g[a];else if(0===d)g={};else{var e=g[a];if(!e)return b;e.splice(e.indexOf(c),1)}return b},b.emit=function(){var a=d(arguments);return b.emitterSnapshot(a.shift()).apply(this,a)},b.emitterSnapshot=function(a){var c=(g[a]||[]).slice(0);return function(){var g=d(arguments),h=this||b;if("error"===a&&f.throws!==!1&&!c.length)throw 1===g.length?g[0]:g;return c.forEach(function(d){f.async?e(d,g,h):d.apply(h,g),d._once&&b.off(a,d)}),b}},b}},{"./debounce":4,atoa:3}],6:[function(a,b,c){(function(c){"use strict";function j(a,b,c,d){return a.addEventListener(b,c,d)}function k(a,b,c){return a.attachEvent("on"+b,p(a,b,c))}function l(a,b,c,d){return a.removeEventListener(b,c,d)}function m(a,b,c){var d=q(a,b,c);if(d)return a.detachEvent("on"+b,d)}function n(a,b,c){function h(){var a;return f.createEvent?(a=f.createEvent("Event"),a.initEvent(b,!0,!0)):f.createEventObject&&(a=f.createEventObject()),a}function i(){return new d(b,{detail:c})}var g=e.indexOf(b)===-1?i():h();a.dispatchEvent?a.dispatchEvent(g):a.fireEvent("on"+b,g)}function o(a,b,d){return function(e){var f=e||c.event;f.target=f.target||f.srcElement,f.preventDefault=f.preventDefault||function(){f.returnValue=!1},f.stopPropagation=f.stopPropagation||function(){f.cancelBubble=!0},f.which=f.which||f.keyCode,d.call(a,f)}}function p(a,b,c){var d=q(a,b,c)||o(a,b,c);return i.push({wrapper:d,element:a,type:b,fn:c}),d}function q(a,b,c){var d=r(a,b,c);if(d){var e=i[d].wrapper;return i.splice(d,1),e}}function r(a,b,c){var d,e;for(d=0;d<i.length;d++)if(e=i[d],e.element===a&&e.type===b&&e.fn===c)return d}var d=a("custom-event"),e=a("./eventmap"),f=c.document,g=j,h=l,i=[];c.addEventListener||(g=k,h=m),b.exports={add:g,remove:h,fabricate:n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(a,b,c){(function(a){"use strict";var c=[],d="",e=/^on/;for(d in a)e.test(d)&&c.push(d.slice(2));b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(a,b,c){(function(a){function d(){try{var a=new c("cat",{detail:{foo:"bar"}});return"cat"===a.type&&"bar"===a.detail.foo}catch(a){}return!1}var c=a.CustomEvent;b.exports=d()?c:"function"==typeof document.createEvent?function(b,c){var d=document.createEvent("CustomEvent");return c?d.initCustomEvent(b,c.bubbles,c.cancelable,c.detail):d.initCustomEvent(b,!1,!1,void 0),d}:function(b,c){var d=document.createEventObject();return d.type=b,c?(d.bubbles=Boolean(c.bubbles),d.cancelable=Boolean(c.cancelable),d.detail=c.detail):(d.bubbles=!1,d.cancelable=!1,d.detail=void 0),d}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(a,b,c){var e,d="function"==typeof setImmediate;e=d?function(a){setImmediate(a)}:function(a){setTimeout(a,0)},b.exports=e},{}]},{},[2])(2)});